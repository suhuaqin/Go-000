学习笔记

# 同时访问一个变量时，要注意数据竞争

# 使用锁时要注意加锁顺序要一致，避免死锁
# 原子操作
- 对机器字大小的操作是原子操作
# 可见性
- 内存屏障

# groutine
- 控制生命周期，让groutine的退出处于可控状态

# contest
- 如果是 canceler ctx，务必记得调用c.cancel()，避免ctx泄露
- 链路追踪
- 超时控制
- 集联取消
- 携带数据

# channal
- 通过通信共享内存
- 读端在channel没数据时堵塞，写端在channel缓冲满时堵塞
- 缓冲区过小，数据流较大，会导致groutine切换更频繁

# atomic
- 读多写少